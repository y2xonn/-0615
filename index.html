<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>편향 피드 체험</title>
  <style>
    :root {
      --primary: #1d9bf0;
      --bg: #f4f6f8;
      --card: #ffffff;
      --border: #e1e8ed;
      --text: #0f1419;
      --sub: #536471;
      --radius: 16px;
      --shadow: 0 6px 16px rgba(0, 0, 0, 0.06);
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    }
    body {
      background: var(--bg);
      display: flex;
      justify-content: center;
      padding: 60px 16px;
    }
    .container {
      width: 100%;
      max-width: 680px;
    }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 32px 40px;
      margin-bottom: 32px;
    }
    h1, h2, h3 {
      color: var(--text);
      margin-bottom: 24px;
      font-weight: 700;
    }
    p {
      color: var(--sub);
      line-height: 1.6;
      margin-bottom: 16px;
      font-size: 15px;
    }
    .btn {
      display: inline-block;
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 12px 28px;
      border-radius: 9999px;
      cursor: pointer;
      font-size: 15px;
      font-weight: 600;
      transition: 0.25s;
      margin-top: 12px;
    }
    .btn:hover {
      background: #1478c9;
    }
    .feed-item {
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      margin-bottom: 20px;
      background: #fff;
    }
    .hidden { display: none; }
    textarea, select {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 8px;
      border: 1px solid var(--border);
    }
  </style>
</head>
<body>
  <main class="container">
    <section id="intro" class="card">
      <h1>내 피드는 편향되어 있을까?</h1>
      <p>정보 비율의 왜곡이 어떻게 인식에 영향을 줄까요?</p>
      <button class="btn" onclick="showStep('choose')">체험 시작</button>
    </section>

    <section id="choose" class="card hidden">
      <h2>주제를 선택하세요</h2>
      <select id="topic-select">
        <option value="환경">환경</option>
        <option value="AI">AI</option>
        <option value="SNS">SNS</option>
      </select>
      <button class="btn" onclick="startFeed()">피드 보기</button>
    </section>

    <section id="feed" class="card hidden">
      <h2>당신을 위한 피드</h2>
      <div id="feed-items"></div>
      <button class="btn" onclick="showStep('survey')">설문 진행</button>
    </section>

    <section id="survey" class="card hidden">
      <h2>이 피드는 어떤 방향으로 치우쳐 있었나요?</h2>
      <select id="bias-answer">
        <option value="positive">긍정적</option>
        <option value="negative">부정적</option>
        <option value="balanced">균형적</option>
        <option value="unsure">잘 모르겠음</option>
      </select>
      <p>이유를 간단히 적어주세요:</p>
      <textarea rows="4" id="bias-reason" placeholder="예: 대부분 부정적인 내용이 많았어요."></textarea>
      <button class="btn" onclick="showStep('summary')">결과 보기</button>
    </section>

    <section id="summary" class="card hidden">
      <h2>실제 피드 구성</h2>
      <p id="actual-ratio"></p>
      <p>알고리즘이 특정 비율로 정보를 제공하면, 우리의 인식은 쉽게 편향될 수 있습니다.</p>
      <h3>필터버블 & 확증편향이란?</h3>
      <ul>
        <li><strong>필터버블</strong>: 알고리즘이 선호에 맞는 정보만 제공</li>
        <li><strong>확증편향</strong>: 보고 싶은 정보만 받아들이려는 심리</li>
      </ul>
      <p>균형 잡힌 정보 소비를 위해 다양한 출처와 관점을 접해보세요.</p>
      <button class="btn" onclick="location.reload()">처음으로</button>
    </section>
  </main>

  <script>
    const FEEDS = {
      환경: {
        positive: [
          "전 세계 탄소 배출 감소, 녹색 전환 가속화",
          "친환경 기술 투자 증가로 일자리 창출"
        ],
        negative: [
          "폭염으로 사망자 급증, 기후 위기 현실로",
          "산불 증가, 환경 파괴 가속"
        ]
      },
      AI: {
        positive: [
          "AI로 질병 진단 정확도 향상",
          "AI 덕분에 생산성 대폭 증가"
        ],
        negative: [
          "AI로 일자리 대량 소멸 위기",
          "딥페이크로 허위정보 범람"
        ]
      },
      SNS: {
        positive: [
          "SNS 캠페인으로 기부금 10억 모금",
          "소통의 창으로 재난 시 생명 구조 도움"
        ],
        negative: [
          "SNS 중독으로 청소년 정신건강 악화",
          "허위 정보 확산, 사회 갈등 심화"
        ]
      }
    };

    function showStep(id) {
      document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
      document.getElementById(id).classList.remove('hidden');
    }

    function startFeed() {
      const topic = document.getElementById("topic-select").value;
      const feed = FEEDS[topic];
      const container = document.getElementById("feed-items");
      container.innerHTML = '';

      // 랜덤 비율 결정 (6:4 이상 유지)
      const positiveRatio = Math.random() < 0.5 ? 0.4 : 0.6;
      const negativeRatio = 1 - positiveRatio;

      const totalItems = 5;
      const numPositive = Math.round(totalItems * positiveRatio);
      const numNegative = totalItems - numPositive;

      const positiveItems = feed.positive.slice(0, numPositive);
      const negativeItems = feed.negative.slice(0, numNegative);

      const mixed = [...positiveItems, ...negativeItems];
      mixed.sort(() => Math.random() - 0.5);

      mixed.forEach(text => {
        const div = document.createElement("div");
        div.className = "feed-item";
        div.textContent = text;
        container.appendChild(div);
      });

      // 비율 정보 저장 (설명용)
      const actual = document.getElementById("actual-ratio");
      actual.textContent = `이번 피드는 실제로 긍정 뉴스 ${numPositive}, 부정 뉴스 ${numNegative}개로 구성되어 있었습니다.`;

      showStep("feed");
    }
  </script>
</body>
</html>
